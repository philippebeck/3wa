{# **************************** #}
{# ***** UPDATE USER VIEW ***** #}
{# **************************** #}


{% extends 'layout/layout.twig' %}

{% block title %}Édition du compte utilisateur{% endblock %}

{% block description %}{% endblock %}


{% block main %}

<main id="user" class="center">

  <form action={{ url('user!update', {'id': user.id}) }} method="post" enctype="multipart/form-data">

    <!-- User avatar restriction -->
    <input name="MAX_FILE_SIZE" type="hidden" value="10000000" />

    <fieldset>
      <legend><i class="fa fa-id-card" aria-hidden="true"></i> Identité</legend>
      <ul>

        <!-- First name field -->
        <li>
          <label for="first_name">Prénom :</label>
          <input id="first_name" name="first_name" type="text" placeholder="Insérez votre prénom" maxlength="20" required value="{{ user.first_name }}">
        </li>

        <!-- Last name field -->
        <li>
          <label for="last_name">Nom :</label>
          <input id="last_name" name="last_name" type="text" placeholder="Insérez votre nom" maxlength="20" required value="{{ user.last_name }}">
        </li>

        <!-- Article avatar field -->
        <li>
          <label for="file">Photo :</label>
          <input id="file" name="file" type="file" accept=".jpg, .jpeg, .png, .svg, .gif">
        </li>

      </ul>
    </fieldset>

    <fieldset>
      <legend><i class="fa fa-compass" aria-hidden="true"></i> Localisation</legend>
      <ul>

        <!-- Zipcode field -->
        <li>
          <label for="zipcode">Code Postal :</label>
          <input id="zipcode" name="zipcode" type="number" inputmode="numeric" min="01000" max="98000" required value="{{ user.zipcode }}">
        </li>

        <!-- Country field -->
        <li>
          <label for="country">Pays :</label>
          <input id="country" name="country" type="text" placeholder="Modifiez votre pays de résidence" maxlength="20" required value="{{ user.country }}">
        </li>

      </ul>
    </fieldset>

    <fieldset>
      <legend><i class="fa fa-lock" aria-hidden="true"></i> Authentification</legend>
      <ul>

        <!-- Champ Email -->
        <li>
          <label for="email">Email :</label>
          <input id="email" name="email" type="email" placeholder="Modifiez votre Email" maxlength="50" minlength="5" required  value="{{ user.email }}">
        </li>

        <li>
          <!-- Champ Mot de Passe -->
          <label for="pass">Mot de passe :</label>
          <input id="pass" name="pass" type="password" placeholder="Entrez ou modifiez votre mot de passe" maxlength="50" minlength="8" required>
        </li>

      </ul>
    </fieldset>

    <!-- User date field -->
    <input name="date" type="hidden" value="{{ date()|date('Y-m-d H:i:s') }}">

    <!-- Boutons de contrôle -->
    <div class="btn-group">
      <a class="btn delete-btn outset-slight inset-blur" href="./">Annulation</a>
      <input class="btn cancel-btn outset-slight inset-blur" type="reset" value="Correction">
      <input class="btn valid-btn outset-slight inset-blur" type="submit" value="Modification">
    </div>

  </form>

  <a class="btn default-btn solid-rounded spread" href="{{ url('user!delete', {'id': user.id}) }}">Supprimer mon compte</a>

</main>
{% endblock %}
